<?xml version='1.0' encoding='UTF-8' ?>

<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/templateRNPN.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                >

    <ui:define name="titulo">
        Nuevo ciudadano
    </ui:define>

    <ui:define name="content">
        <h1 class="text-center" style="margin-top: -5%;"> Nuevo ciudadano </h1><br></br>
        <div class="col col-md-12">
            <h:form enctype="multipart/form-data" id="formulario">
                <div class="form-group col-md-8" id="dui">
                    <h:inputText id="duiCiudadano" class="form-control" value="#{ciudadanosBean.ciudadanos.duiCiudadano}" title="DuiCiudadano" a:placeholder="Ingresa el DUI" required="true" requiredMessage="El DUI es obligatorio"/>

                </div>
                <div class="form-group col-md-6" id="nombre">
                    <h:inputText id="nombresCiudadano" class="form-control" value="#{ciudadanosBean.ciudadanos.nombresCiudadano}" title="NombresCiudadano" a:placeholder="Ingresa el nombre" required="true" requiredMessage="The NombresCiudadano field is required."/>
                </div>                    
                <div class="form-group col-md-6" id="apellido">
                    <h:inputText id="apellidosCiudadano" class="form-control" value="#{ciudadanosBean.ciudadanos.apellidosCiudadano}" title="ApellidosCiudadano" a:placeholder="Ingresa el apellido" required="true" requiredMessage="The ApellidosCiudadano field is required."/>

                </div>
                <div class="form-group col-md-6" id="fechaNacimi">
                    <h:inputText id="fechaNacimiento" class="form-control" value="#{ciudadanosBean.ciudadanos.fechaNacimiento}" title="FechaNacimiento" a:placeholder="Ingresa la fecha de nacimiento - (31/12/2000)" required="true" requiredMessage="The FechaNacimiento field is required.">
                        <f:convertDateTime pattern="yyyy/MM/dd" />
                    </h:inputText>                
                </div>
                <div class="form-group col-md-6" id="direcc">
                    <h:inputText id="direccion" class="form-control" value="#{ciudadanosBean.ciudadanos.direccion}" title="Direccion" a:placeholder="Ingresa la direcciÃ³n" required="true" requiredMessage="The Direccion field is required."/>

                </div>
                <div class="row">
                    
                    <div class="form-group col-md-5 munici">
                        <h:outputLabel value="Municipio:" />
                        <h:selectOneMenu id="municipio" class="form-control" value="#{ciudadanosBean.idMunicipio}" >
                            <f:selectItem itemLabel="--- Seleccione ---" itemValue="0" />
                            <f:selectItems value="#{ciudadanosBean.listaMunicipios}" var="municip" itemLabel="#{municip.municipio}" itemValue="#{municip.idMunicipio}" />

                            <f:ajax listener="#{ciudadanosBean.nuevaListaCentros}" render=":formulario:idCentroVotacion" />

                        </h:selectOneMenu>
                    </div>

                    <div class="form-group col-md-6 cent" id="centro">
                        <h:outputLabel value="Elige el centro de votaciÃ³n:" for="idCentroVotacion" />
                        <h:selectOneMenu id="idCentroVotacion" class="form-control" value="#{ciudadanosBean.idCentro}" >
                            <f:selectItem itemLabel="--- Seleccione ---" itemValue="0" />
                            <f:selectItems value="#{ciudadanosBean.listaNuevaCentros}" var="centr" itemLabel="#{centr.centroVotacion}" itemValue="#{centr.idCentroVotacion}" />
                        </h:selectOneMenu>
                    </div>
                    
                    <div class="form-group col-md-6" id="url">
                        <h:outputLabel value="Foto:" for="urlFoto" />
                        <h:inputFile id="urlFoto" value="#{ciudadanosBean.file}" class="form-control file file-loading" /><br></br>
                    </div>
                </div>
                <div id="Aceptar">
                    <h:commandButton value="Aceptar" class="btn btn-success col-md-6" action="#{ciudadanosBean.ingresarCiudadano()}" />
                </div>
            </h:form>
        </div>

    </ui:define>

</ui:composition>
