<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <!-- css -->
        <link href="../resources/css/bootstrap.min.css" rel="stylesheet" />
        <link href="../resources/css/fancybox/jquery.fancybox.css" rel="stylesheet"/> 
        <link href="../resources/css/flexslider.css" rel="stylesheet" /> 
        <link href="../resources/css/style.css" rel="stylesheet" />
         <link href="../resources/css/alertify.default.css" rel="stylesheet" />
        <link href="../resources/css/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <script src="../resources/js/jquery-1.12.0.min.js"></script>
        <script src="../resources/js/bootstrap.min.js"></script>
        <script src="../resources/js/alertify.js"></script>
        <script src="../resources/js/jquery.dataTables.min.js"></script>
        <script src="../resources/js/dataTables.bootstrap.min.js"></script>
        <title>Index|votacion</title>
    </h:head>
    <h:body>
        <!-- start header -->
        <header>
            <div class="navbar navbar-default navbar-static-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="#"><img src="../resources/img/logo.png"/></a>
                    </div>
                    <div class="navbar-collapse collapse ">
                        <ul class="nav navbar-nav">
                            <li class="active"><a href="index.html">Inicio</a></li> 
                            <li class="dropdown">
                                <a href="#" data-toggle="dropdown">Ver ciudadanos<b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href="about.html">ver ciudadanos inscritos</a></li>
                                    <li><a href="#">Ver ciudadanos jrv</a></li>
                                </ul>
                            </li>


                            <li class="dropdown">
                                <a href="#" class="fa fa-user" data-toggle="dropdown"> #{presidentejrvBean.nombrePresidente()}<b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href="about.html">Cambiar Contraseña</a></li>
                                    <li><a href="#">Cerrar Sesión</a></li>
                                </ul>
                            </li> 
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        <!-- end header -->

        <!-- Contenido -->
        <section  class="container">
            <h1 class="text-center">Bienvenido al proceso de votacion</h1>

            <h:form>

                <h2 class="text-center">Para la elección:</h2>
                <h:dataTable value="#{presidentejrvBean.obtenerEleccion}"  var="item" class="table table-bordered">

                    <h:column >
                        <f:facet name="header">
                            <h:outputText value="IdEleccion"/>
                        </f:facet>
                        <h:outputText value="#{item.idEleccion}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Elección"/>
                        </f:facet>
                        <h:outputText value="#{item.descripcionEleccion}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Fecha Inicio"/>
                        </f:facet>
                        <h:outputText value="#{item.fechaInicio}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Fecha Registro"/>
                        </f:facet>
                        <h:outputText value="#{item.fechaRegistro}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Fecha FinRegistro"/>
                        </f:facet>
                        <h:outputText value="#{item.fechaFinRegistro}">
                            <f:convertDateTime pattern="MM/dd/yyyy" />
                        </h:outputText>
                    </h:column>
                    <h:column>
                        <f:facet name="header" >
                            <h:outputText value="Tipo eleccion"/>
                        </f:facet>
                        <h:outputText value="#{item.idTipoEleccion.tipoEleccion}"/>
                    </h:column>
                </h:dataTable>


                <h2 class="text-center">Te encuentras en:</h2>
                <h:dataTable value="#{presidentejrvBean.listaCentro}" var="item" class="table table-bordered">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Id Centro Votacion"/>
                        </f:facet>
                        <h:outputText value="#{item.idCentroVotacion}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Centro Votacion"/>
                        </f:facet>
                        <h:outputText value="#{item.centroVotacion}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Direccion"/>
                        </f:facet>
                        <h:outputText value="#{item.direccion}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Municipio"/>
                        </f:facet>
                        <h:outputText value="#{item.idMunicipio.municipio}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Departamento"/>
                        </f:facet>
                        <h:outputText value="#{item.idMunicipio.idDepartamento.departamento}"/>
                    </h:column>
                </h:dataTable>

                <h:commandButton  class="btn btn-success center-block" action="#{presidentejrvBean.activarVotacion()}" style="margin-top: 5%;"  value="Iniciar votación" />



            </h:form>
        </section>
        <!-- Fin Contenido -->


        <!--Footer-->

        <div id="sub-footer">
            <div class="container">
                <div class="row">
                    <center><img src="../resources/img/logoInvert.png"/></center>
                    <center>Proceso votación</center>
                </div>
            </div>
        </div>

        <h:outputScript rendered="#{not empty flash.exito}">
            alertify.success('#{flash.exito}');
        </h:outputScript>

        <h:outputScript rendered="#{not empty flash.fracaso}">
            alertify.error('#{flash.fracaso}');
        </h:outputScript>
        <!--Fin Footer-->
    </h:body>
</html>

